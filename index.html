<!doctype html>

<!-- 
Copyright (c) 2012 Adobe Systems Incorporated. All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html dir="ltr" lang="en">
<head>
    <title>CSS FilterLab</title>
    <link rel="stylesheet" type="text/css" href="style/css/app.css">
    <link rel="stylesheet" href="lib/third_party/CodeMirror/lib/codemirror.css">

    <script src="lib/third_party/jquery/jquery-1.8.0.min.js" type="text/javascript"></script>
    <script src="lib/third_party/jquery/jquery-ui-1.8.23.custom.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="lib/third_party/CodeMirror/lib/codemirror.js"></script>
    <script type="text/javascript" src="lib/third_party/CodeMirror/mode/clike/clike.js"></script>

    <script type="text/javascript" src="configs.js"></script>
    <script type="text/javascript" src="lib/utils/utils.js"></script>
    <script type="text/javascript" src="lib/utils/event_dispatcher.js"></script>
    <script type="text/javascript" src="lib/application.js"></script>
    <script type="text/javascript" src="lib/controls/base_control.js"></script>
    <script type="text/javascript" src="lib/controls/code_editor.js"></script>
    <script type="text/javascript" src="lib/controls/multi_control.js"></script>
    <script type="text/javascript" src="lib/controls/color_control.js"></script>
    <script type="text/javascript" src="lib/controls/editable_label.js"></script>
    <script type="text/javascript" src="lib/controls/range_control.js"></script>
    <script type="text/javascript" src="lib/controls/transform_control.js"></script>
    <script type="text/javascript" src="lib/controls/warp_control.js"></script>
    <script type="text/javascript" src="lib/models/active_object.js"></script>
    <script type="text/javascript" src="lib/models/animation.js"></script>
    <script type="text/javascript" src="lib/models/preset_store.js"></script>
    <script type="text/javascript" src="lib/models/filter_config.js"></script>
    <script type="text/javascript" src="lib/models/filter.js"></script>
    <script type="text/javascript" src="lib/models/filter_store.js"></script>
    <script type="text/javascript" src="lib/models/filter_list.js"></script>
    <script type="text/javascript" src="lib/models/github.js"></script>
    <script type="text/javascript" src="lib/models/keyframe.js"></script>
    <script type="text/javascript" src="lib/utils/angle_lib.js"></script>
    <script type="text/javascript" src="lib/utils/color_scheme.js"></script>
    <script type="text/javascript" src="lib/utils/config.js"></script>
    <script type="text/javascript" src="lib/utils/css_generators.js"></script>
    <script type="text/javascript" src="lib/utils/local_storage.js"></script>
    <script type="text/javascript" src="lib/utils/mixers.js"></script>
    <script type="text/javascript" src="lib/utils/warp_helpers.js"></script>
    <script type="text/javascript" src="lib/views/filter_store_view.js"></script>
    <script type="text/javascript" src="lib/views/active_filter_list_view.js"></script>
    <script type="text/javascript" src="lib/views/css_code_view.js"></script>
    <script type="text/javascript" src="lib/views/filter_item_view.js"></script>
    <script type="text/javascript" src="lib/views/preset_store_view.js"></script>
    <script type="text/javascript" src="lib/views/loading_progress_view.js"></script>
    <script type="text/javascript" src="lib/views/logo_view.js"></script>
    <script type="text/javascript" src="lib/views/import_filter_view.js"></script>
    <script type="text/javascript" src="lib/views/shader_editor_view.js"></script>
    <script type="text/javascript" src="lib/views/shader_code_editor_view.js"></script>
    <script type="text/javascript" src="lib/views/timeline_view.js"></script>

    <script type="text/javascript" src="lib/views/dock_column.js"></script>
    <script type="text/javascript" src="lib/views/dock_view.js"></script>
    <script type="text/javascript" src="lib/views/dock_container.js"></script>
    <script type="text/javascript" src="lib/views/dock_panel.js"></script>
</head>

<body>     

    <div id="components">
        <div id="logo">
            <h1 class="title left">CSS FilterLab</h1>
            <a href="#" id="filter-store-toggle" class="button dark">Add Filter</a>
        </div>

        <div id="filters-not-supported-popup" class="filters-not-supported">
            <div>Your browser does not support custom filters. <a class="filters-not-supported-help">Help</a></div>
        </div>

        <div id="filter-code" class="code"></div>
        <div id="animation-code" class="code"></div>

        <div id="timeline">
            <h4 class="title">Timeline</h4>
            <div id="playPauseButton" class="play" title="Play animation">Play</div>    
            
            <div id="gotoPrevKeyframeButton" class="prev" title="Go to previous keyframe">Previous keyframe</div>
            <div id="toggleActiveKeyframeButton" class="toggle" title="Toggle keyframe on/off">Toggle keyframe</div>
            <div id="gotoNextKeyframeButton" class="next" title="Go to next keyframe">Next keyframe</div>
            
            <span class="start">0s</span>

            <div class="keyframe_wrapper">
                <div class="keyframe_bar">
                    <div class="keyframes_list"></div>
                    <div class="play_head"><span class="laser"></span></div>
                </div>
            </div>

            <input type="number" id="timelineDuration" min="0" value="0.5" step="0.1"  />
        </div>  
          
        <aside id="active-filters">  
            <ul id="filter-list">
                <li id="filter-list-empty">No filter applied. Add a filter to style the content.</li>
            </ul>
        </aside>
       
        <div id="animations-container">
            <ul class="nav left">
                <li class="preset"> 
                    <span id="active-animation" class="button drop-down">
                        Presets
                    </span>
                    <a href="#" id="save-animation" class="button disabled" >Save as preset</a>
                </li>
            </ul>

            <ul class="nav right">
                <li>
                    <a href="http://html.adobe.com/webstandards/csscustomfilters/" target='_blank' title="About CSS Custom Filters on html.adobe.com">CSS Custom Filters</a>
                </li>
                <li>
                    <a id="help-link" href="#">Help</a>
                </li>
            </ul>
        
            <ul id="animations" class="menu">
            </ul>
        </div>

        <div id="config-editor">
            <div class="config-panel">

                <div class="config-row">
                    <label for="config-shader-name">Custom filter name</label>
                    <input type="text" class="config-shader-name" name="config-shader-name" />
                </div>

                <div class="config-row">
                    <label for="config-shader-mesh-columns">Custom filter mesh columns:</label>
                    <input type="number" class="config-shader-mesh-columns" name="config-shader-mesh-columns" min="1" max="100" />
                </div>

                <div class="config-row">
                    <label for="config-shader-mesh-rows">Custom filter mesh rows:</label>
                    <input type="number" class="config-shader-mesh-rows" name="config-shader-mesh-rows" min="1" max="100" />
                </div>

                <div class="config-row">
                    <label for="config-shader-mix-blend-mode">Blend mode</label>
                    <select type="text" class="config-shader-mix-blend-mode" name="config-shader-mix-blend-mode">
                        <option value="normal">normal</option>
                        <option value="darken">darken</option>
                        <option value="multiply">multiply</option>
                        <option value="lighten">lighten</option>
                        <option value="screen">screen</option>
                        <option value="difference">difference</option>
                        <option value="exclusion">exclusion</option>
                    </select>
                </div>

                <div class="config-row config-parameters-row">
                    <div class="config-parameters-wrapper">
                        <h4>Parameters</h4>
                        <ul class="config-parameters">
                            
                        </ul>
                    </div>

                    <div class="config-parameter">
                        <h4>Parameter "<span class="config-parameter-label"></span>"</h4>

                        <div class="config-row">
                            <label for="config-parameter-type">Parameter name</label>
                            <select type="text" class="config-parameter-type" name="config-parameter-type">
                                <option value="range">Range</option>
                                <option value="color">Color</option>
                                <option value="transform">Transform</option>
                                <option value="warp">Warp</option>
                            </select>
                        </div>

                        <div class="config-row">
                            <label for="config-default-value">Parameter default value</label>
                            <div class="value config-default-value">
                            </div>
                        </div>

                        <div class="config-parameter-range">
                            <div class="config-row">
                                <label for="config-parameter-range-min">Parameter range minimum:</label>
                                <input type="number" class="config-parameter-range-min" name="config-parameter-range-min" />
                            </div>
                            <div class="config-row">
                                <label for="config-parameter-range-max">Parameter range maximum:</label>
                                <input type="number" class="config-parameter-range-max" name="config-parameter-range-max" />
                            </div>
                            <div class="config-row">
                                <label for="config-parameter-range-step">Parameter range step:</label>
                                <input type="number" class="config-parameter-range-step" name="config-parameter-range-step" />
                            </div>
                        </div>
                    </div>
                </div>
                <a href="#" id="post-gist-button" class="button dark">Publish to GitHub</a>
            </div>
        </div>
        <div id="vertex-shader" class="code-panel">
            <div class="code-view"></div>
        </div>
        <div id="fragment-shader" class="code-panel">
            <div class="code-view"></div>
        </div>

        <div id="shader-errors">
            <div>
                <div class="loader">
                    <div class="progress-bar"></div>
                    <div class="label"></div>
                </div>
                <div class="vertex-shader inline-shader-errors"></div>
                <div class="fragment-shader inline-shader-errors"></div>
            </div>
        </div>
        
        <section id="main">
            <div id="scene">
                <div id="container">
                    <div id="multi-col">
                        <h2 id="dialog-title" style=
                        "-webkit-column-break-before: always">The Creative Web</h2>

                        <p>
                            The Creative Web is not a mythical place. <br />
                            It's a place where HTML, CSS &amp; JS are supercharged with powers that extend their abilities to amaze.
                          </p>

                        <p>CSS Filters is a small step for web design, a giant leap for the web. <a class="content-link" href="http://html.adobe.com/webstandards/csscustomfilters/" target="_blank">Learn more!</a></p>
                        
                        <embed id="svg-img" src="images/shaderprincess.svg" width="400"
                        height="173" alt="Shader Princess">

                    </div>
                </div>

            </div>                              
            
        </section>
    </div>
    
    <div id="main-view">
        <div id="app" class="container">
        </div>

        <div id="filter-dock">
        </div>
    </div>

    <div id="loading">
        <div>
            Loading CSS FilterLab ...
        </div>
    </div>

    <div id="github-popup" class="popup">
        <div class="popup-inner">
            <div class="state gist-info">
                <h2 class="title">
                    <a href="#" class="gist-popup-close icon icon-close">Close</a>
                    Publish to GitHub
                </h2>
                <p>This will publish your shader configuration as a <a href="https://gist.github.com/" target="_blank">gist on GitHub</a>. <br />Gists are used to share snippets of code with others.</p>
                <a href='#' id="save-anonymous-gist" class="button">Publish anonymously</a>
            </div>
            <div class="state gist-login">
                <h2 class="title">
                    <a href="#" class="gist-popup-close icon icon-close">Close</a>
                    GitHub Login
                </h2>
                <p>
                    GitHub login window has been opened. If you cannot see the window please 
                    <a id="github-login-link" href="#">click here</a> to open it again.
                </p>
                <p class="gist-login-failed">Login failed.</p>
            </div>
            <div class="state gist-saving">
                <h2 class="title">Creating GitHub gist...</h2>
                <p><center><span class="spinner large"></span></center></p>
            </div>
            <div class="state gist-result">
                <h2 class="title">
                    <a href="#" class="gist-popup-close icon icon-close">Close</a>
                    GitHub gist created!
                </h2>
                <p>
                    Your new gist was created at: <a href="" target="_blank" id="gist-link"></a>
                </p>
                <p>
                    Other people on CSS FilterLab can use this link to import your shader configuration. <br />Gists can be imported using the "Add Filter" > "Import Filter" menu.
                </p>
            </div>
        </div>
    </div>

    <div id="browser-popup" class="popup">
        <div class="popup-inner">
            <h2>
                <a href="#" id="browser-popup-close" class="icon icon-close">Close</a>
                CSS FilterLab requires cutting edge CSS features!
             </h2>
            <p>To get the best out of it you need to download a nightly build of Safari for Mac or Google Chromium Canary.</p>
        </div>
    </div>

    <div id="help-popup" class="popup">
        <div class="popup-inner">
            <h2>
                <a href="#" id="help-popup-close" class="icon icon-close">Close</a>
                Welcome to CSS FilterLab!
            </h2>
            <p>Help to be written here.</p>
        </div>
    </div>
    
    <div id="import-filter">
        <section>
            
            <p>You can import a filter from a GitHub gist url. <br />Once imported your filter will appear under the 'Forked custom filters' tab.</p>

            <div class="notice error">
                <strong>Oops!</strong>
                There was an error importing from that URL. Please check that it points to a real filter and try again.
            </div>        

            <form action="#">
                <label for="gist-url">Filter gist URL</label>
                <input type="url" class="text-field" name="gist-url" placeholder="gist URL" required/>
                <a href="#" class="button dark disabled cta">Import</a>
            </form>
             
        </section>
    </div>
    
    <script type="text/javascript">
    
    $(function() {                                        
        $('#filter-store-toggle').trigger('click')
        $('#filter-dock .panel-tab:last').trigger('click')
    });
    </script>
    
</body>
</html>
